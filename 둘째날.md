## 둘째날 '24.2.20 +0900 ~

### SPL

#### 1. SPL의 특징
- 와일드 카드 지원, 검색 패턴은 대소문자 구분하지 않음
-  연산자(AND / OR / NOT)를 쓸 때 Bool 표현식은 대문자로 표시, 비교 연산자(!=, >=, >), 검색 패턴의 중간에 적용
-  복잡한 검색 요건을 “()”그룹화, 정확한 문자열은 “”로 표시
-  파이프라인(|) : 명령어와 명령어 사이를 연결
    ```
    index=sample_index sourcetype=error_log | sort - user
    > index=sample_index sourcetype=error_log  로 검색된 결과가 파이프라인(|) 을 통해 sort 명령어로 전달되게 되고, sort 명령이 전달된 데이터를 ‘user’ 필드 기준으로 내림차순(-) 으로 정렬
    ```

### 2. SPL의 기본구조
!["형식"](https://oss-lab.notion.site/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F149c2c6f-27fb-4d67-aece-77bfc1e19fcc%2F%25E1%2584%2589%25E1%2585%25B3%25E1%2584%258F%25E1%2585%25B3%25E1%2584%2585%25E1%2585%25B5%25E1%2586%25AB%25E1%2584%2589%25E1%2585%25A3%25E1%2586%25BA_2023-03-29_%25E1%2584%258B%25E1%2585%25A9%25E1%2584%2592%25E1%2585%25AE_5.24.31.png?table=block&id=78e86033-1a82-4577-b71b-fcb9c54dd7ee&spaceId=d2bd6b0b-0904-438c-94d0-0c936ece43d0&width=1060&userId=&cache=v2)

### 3. 주요 검색 명령어 
- **search** (생략되어 있음)
- stat
- timechart
- **strcat**
- rename
- sort / head / dedup /
- **Lookup** (Splunk에 있는 데이터를 공통적인 특정 필드 기준으로 외부 Table을 JOIN하는 기능)
  + 1. CSV 파일 기반의 CSV 방식의 룩업
  + 2. MongoDB를 기반으로 한 KV Store 방식의 룩업이 존재함
|Lookup Type|장점|단점|
|-----------|----|----|
|KV Store|테스트2|테스트3|
|CSV|테스트2|테스트3|
  + 실습
